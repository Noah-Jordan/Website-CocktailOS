<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>DrinkOS ‚Äì Projektwebsite</title>
  <meta name="description" content="Projektwebsite f√ºr DrinkOS ‚Äì Projektmanagement Internetpr√§sentation (BBS1 Mainz)" />
  <style>
    :root{
      --blue:#0a2a66;
      --blue-700:#123780;
      --yellow:#f6c646;
      --bg:#0b1220;
      --text:#0f172a;
      --muted:#334155;
      --surface:#ffffff;
    
    *{box-sizing:border-box}
    html,body{margin:0}
    body{font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Noto Sans", "Liberation Sans", sans-serif; color:#0b1220; background:#f8fafc}
    a{color:var(--blue)}
    header{position:sticky; top:0; z-index:50; background:linear-gradient(180deg,#0a2a66 0%, #123780 100%); color:white; border-bottom:1px solid rgba(255,255,255,.15)}
    .container{max-width:1100px; margin:0 auto; padding:0 1rem}
    .nav{display:flex; align-items:center; justify-content:space-between; padding:0.4rem 0; height: 60px; overflow: hidden;}
    .brand{display:flex; align-items:center; gap:.75rem}
    .brand img{height:80px; width:auto}
    .brand .title{font-weight:800; letter-spacing:.5px}
    .brand .subtitle{font-size:.8rem; opacity:.85}
    .menu{display:flex; gap:1rem; flex-wrap:wrap}
    .menu a{color:white; text-decoration:none; font-weight:600; opacity:.95}
    .menu a:hover{opacity:1; text-decoration:underline}
    .menu-button{font-size:1.5rem; background:none; border:none; cursor:pointer; padding:10px; color:white}
     /* Off-canvas Men√º rechts */
    .menu-links{
      position:fixed;
      top:60px;                  /* entspricht deiner Headerh√∂he */
      right:-260px;              /* startet au√üerhalb des Viewports */
      width:260px;
      display:flex;
      flex-direction:column;
      background-color:#123780;
      padding:12px;
      border-radius:12px 0 0 12px;
      box-shadow:-10px 14px 28px rgba(0,0,0,.18);
      z-index:1000;
      transition:right .25s ease;
    }
    .menu-links a{
      padding:10px;
      text-decoration:none;
      color:white;
      border-bottom:1px solid rgba(255,255,255,0.18)
    }
    .menu-links a:last-child{ border-bottom:none }
    
    /* ausfahren */
    .menu-links.show{ right:0 }
    
    /* Wenn Men√º offen: Logo etwas nach links schieben */
    body.nav-open .hero-mark{
      transform:translateX(-280px); /* ‚âà Men√ºbreite + Luft */
    }

    /* ===== HERO: Blau + mehr Breite im Hero ===== */
    .hero{
      position: relative;
      color: #0b1220;
      background: radial-gradient(1000px 500px at 70% -100px, #2a4faa 0%, transparent 70%), var(--blue);
    }
    .hero::before{ /* leichtes Overlay f√ºr Lesbarkeit */
      content:""; position:absolute; inset:0; background: rgba(0,0,0,.15);
    }
    .hero .wrap{
      position:relative; /* √ºber dem Overlay */
      display:grid; grid-template-columns:1fr; gap:2rem;
      padding:3rem 0; min-height:60vh; align-items:center;
    }
    /* Mehr Platz NUR im Hero */
    .hero .container{ max-width: 1300px; }

    .hero-card{
      background:rgba(255,255,255,0.92);
      border:1px solid #e5e7eb;
      border-radius:18px;
      padding:1.2rem 1.4rem;
      box-shadow:0 10px 30px rgba(0,0,0,.12);
      backdrop-filter:blur(4px);
      max-width:900px; /* etwas breiter zum Schreiben */
    }
    .hero-card h1{ font-size:clamp(1.8rem,4vw,3rem); margin:.2rem 0 .6rem }
    .hero-card p{ color:#e5e7eb; } /* wird durch Overlay dunkler ‚Äì hier auf sehr hell setzen */
    .hero-card p, .hero-card span.muted{ color:#eef2ff; }
    .hero-card{ color:#0b1220; } /* √úberschriften dunkel lassen */

    /* Buttons */
    .cta{display:flex; gap:.75rem; margin-top:1rem; flex-wrap:wrap}
    .btn{display:inline-block; padding:.75rem 1rem; border-radius:999px; text-decoration:none; font-weight:700}
    .btn-primary{background:var(--yellow); color:#1f2937}
    .btn-outline{border:1.5px solid rgba(255,255,255,.6); color:white; background:transparent}

    /* Rundes, freischwebendes Logo ‚Äì FIXED bis #projekt */
    .hero-mark{
      position:fixed; top:84px; right:20px;   /* 84px ‚âà Header (60px) + Luft */
      width:160px; height:160px;
      border-radius:50%;
      object-fit:contain; background:#fff;
      padding:10px; border:1px solid #e5e7eb;
      box-shadow:0 10px 30px rgba(0,0,0,.12);
      z-index:60; /* √ºber Header-Men√º (50) */
      transition:opacity .2s ease, transform .2s ease;
    }
    .hero-mark.is-hidden{ opacity:0; transform:scale(.95); pointer-events:none; }

    section{padding:3rem 0}
    h2{font-size:clamp(1.4rem,3vw,2rem); margin:0 0 1rem}
    .grid{display:grid; gap:1rem}
    .grid-2{grid-template-columns:repeat(2, minmax(0,1fr))}
    .grid-3{grid-template-columns:repeat(3, minmax(0,1fr))}
    @media (max-width:900px){ .grid-2,.grid-3{grid-template-columns:1fr} }

    .card{background:var(--surface); border:1px solid #e5e7eb; border-radius:18px; padding:1rem}
    .badge{display:inline-block; padding:.25rem .6rem; border-radius:999px; font-size:.75rem; background:#eef2ff; color:#3730a3}
    .muted{color:#cbd5e1} /* heller im Hero-Kontext */

    .timeline{position:relative; margin-left:.5rem}
    .timeline::before{content:""; position:absolute; left:.6rem; top:.2rem; bottom:.2rem; width:2px; background:#dbeafe}
    .tl-item{position:relative; padding-left:1.8rem; margin:.8rem 0}
    .tl-item::before{content:""; position:absolute; left:0; top:.2rem; width:.9rem; height:.9rem; border-radius:999px; background:var(--yellow); border:2px solid #1d4ed8}

    /* Galerie/Lightbox Styles bleiben unver√§ndert, falls ihr die nutzt */
    /* ===== gezielte Schwarz-Overrides ===== */
    /* Hero-Einleitung */
    #start .hero-card p { color:#000 !important; }
    
    /* Hinweiszeilen unter Projekt (de/en) */
    #projekt .muted.small { color:#000 !important; }
    
    /* Blog-Einleitung */
    #blog .muted { color:#000 !important; }
    
    /* Kontakt-Hinweis im Team-Block */
    #team .muted { color:#000 !important; }
    
    /* Galerie-Einleitung */
    #galerie .muted { color:#000 !important; }
      
    /* CTA-Button "Zum Blog" ‚Äì Text schwarz */
    #start .cta .btn-outline{
      color:#000 !important;
      border-color: rgba(0,0,0,.35); /* optional: dunkler Rand statt wei√ü */
    }
  </style>
</head>
<body>
  <!-- Kopfzeile / Navigation -->
  <header>
    <div class="container nav">
      <div class="brand" aria-label="DrinkOS">
        <img src="drinkos_logo_noslogan_transparent.png" alt="DrinkOS Logo" />
        <div>
          <div class="title">DrinkOS</div>
          <div class="subtitle">Operating System f√ºr Cocktails</div>
        </div>
      </div>
      <nav class="menu" aria-label="Hauptnavigation">
        <button class="menu-button" onclick="toggleMenu()">‚ò∞ Men√º</button>
        <div class="menu-links" id="menuLinks">
          <a href="#start">Start</a>
          <a href="#projekt">Projekt</a>
          <a href="#blog">Blog</a>
          <a href="#team">Team</a>
          <a href="#galerie">Galerie</a>
          <a href="#meilensteine">Meilensteine</a>
          <a href="#kontakt">Kontakt</a>
        </div>
      </nav>
    </div>
  </header>

  <!-- Hero mit rundem, freischwebendem Logo -->
  <section class="hero" id="start">
    <!-- RUNDES, FIXED LOGO (bleibt bis Projekt sichtbar) -->
    <img class="hero-mark" src="drinkos_logo_noslogan Rund.png" alt="DrinkOS Logo">
    <div class="container wrap">
      <!-- Text-Box -->
      <div class="hero-card">
        <span class="muted">Projektarbeit Fachschule Automatisierungstechnik</span>
        <h1>DrinkOS ‚Äì Smarte Cocktail-Steuerung</h1>
        <p>Diese Internetpr√§sentation dient der sachlichen Au√üendarstellung des Projekts. Sie beschreibt Planung, Ziele, Inhalte und dokumentiert Fortschritte in einem √∂ffentlichen Blog.</p>
        <div class="cta">
          <a class="btn btn-primary" href="#projekt">Zum Projekt</a>
          <a class="btn btn-outline" href="#blog">Zum Blog</a>
        </div>
      </div>
    </div>
  </section>

  <script>
    // Jahr (falls du sp√§ter wieder einen Footer nutzt)
    // document.getElementById('y')?.textContent = new Date().getFullYear();

    function toggleMenu(){
      const ml = document.getElementById('menuLinks');
      ml.classList.toggle('show');
      document.body.classList.toggle('nav-open', ml.classList.contains('show'));
    }

    // Logo beim Scrollen ausblenden, sobald #projekt erreicht ist
    (function(){
      const logo = document.querySelector('.hero-mark');
      const project = document.getElementById('projekt');

      function onScroll(){
        if(!logo || !project) return;
        const threshold = project.getBoundingClientRect().top;
        if(threshold <= 80) { // kurz vor Beginn der Projektsektion ausblenden
          logo.classList.add('is-hidden');
        } else {
          logo.classList.remove('is-hidden');
        }
      }
      window.addEventListener('scroll', onScroll, {passive:true});
      window.addEventListener('resize', onScroll);
      onScroll();
    })();
  </script>
</body>
</html>
  <!-- Projektbeschreibung -->
  <section id="projekt">
    <div class="container grid grid-2">
      <div class="card">
        <h2>Projektbeschreibung</h2>
        <p>DrinkOS ist eine modulare, sensorgest√ºtzte Plattform zur automatisierten Zubereitung von Cocktails.</p>
        <p>Das Ziel besteht darin, eine Cocktailstation nach zeitgem√§√üen Industrie-4.0-Prinzipien zu entwickeln, der eine zuverl√§ssige, sichere und nachvollziehbare Bedienung erm√∂glicht.</p>
        <p>Kern des Projekts ist eine neue Bedienoberfl√§che auf einem Siemens-Touchpanel, mit der sich vordefinierte Rezepturen ausw√§hlen sowie individuelle Cocktails erstellen und speichern lassen. Nach der Auswahl steuert eine Siemens-SPS den vollautomatischen Prozess: Ein Becher wird per Linearantrieb zu den Dosierstationen verfahren und die Zutaten werden abgegeben. Die integrierte LED-Beleuchtung visualisiert den Ablauf. Die HMI zeigt den aktuellen Prozessschritt jederzeit transparent an.</p>
        <ul class="list">
          <li>üí° <strong>Planung:</strong> Anforderungsanalyse, Architektur, Sicherheits- & Hygiene-Konzept</li>
          <li>üõ†Ô∏è <strong>Umsetzung:</strong> Konstruktion, Verdrahtung, Programmierung, HMI</li>
          <li>üß™ <strong>Tests:</strong> Rezept-Validierung, Durchsatz, Fehlerf√§lle, Wartbarkeit</li>
          <li>üìä <strong>Dokumentation:</strong> Laufende Blogeintr√§ge, Schaltpl√§ne, St√ºcklisten, CAD</li>
        </ul>
        <p class="muted small">Verlinkung zu <a href="https://bbs1-mainz.jimdofree.com/projektmanagement/internetpr%C3%A4sentation/" target="_blank" rel="noopener">BBS1 Mainz ‚Äì Internetpr√§sentation</a> und den Projektseiten ist vorgesehen.</p>
      </div>
      <div class="card">
        <h2>Project Description</h2>
        <p>DrinkOS is a modular, sensor-based platform for the automated preparation of cocktails.</p>
        <p>The goal is to develop a cocktail station based on modern Industry 4.0 principles, enabling reliable, safe, and traceable operation.</p>
        <p>The core of the project is a new user interface on a Siemens touch panel, which allows users to select predefined recipes or create and save custom cocktails. Once a recipe is selected, a Siemens PLC controls the fully automated process: A cup is moved to the dispensing stations via a linear actuator, and the ingredients are dispensed. Integrated LED lighting visualizes the process, while the HMI continuously displays the current step in a transparent and user-friendly way.</p>
        <ul class="list">
          <li>üí° <strong>Planning:</strong> Requirements analysis, system architecture, safety & hygiene concept</li>
          <li>üõ†Ô∏è <strong>Implementation:</strong> Mechanical design, wiring, programming, HMI</li>
          <li>üß™ <strong>Testing:</strong> Recipe validation, throughput, failure scenarios, maintainability</li>
          <li>üìä <strong>Documentation:</strong> Ongoing blog entries, circuit diagrams, parts lists, CAD</li>
        </ul>
        <p class="muted small">Link to <a href="https://bbs1-mainz.jimdofree.com/projektmanagement/internetpr%C3%A4sentation/" target="_blank" rel="noopener">BBS1 Mainz ‚Äì Online Presentation</a> and the project pages is planned.</p>
      </div>
    </div>
  </section>

  <!-- Blog / Arbeitstagebuch (√∂ffentlich) -->
  <section id="blog">
    <div class="container">
      <h2>Blog / Arbeitstagebuch</h2>
      <p class="muted">Jeder Projektteilnehmer f√ºhrt und aktualisiert ein √∂ffentliches Arbeitstagebuch: </p>
      <div class="grid grid-3">
        <!-- ... (deine Blog-Karten bleiben unver√§ndert) ... -->
        <article class="card" aria-labelledby="b1">
          <div class="badge">KW 36</div>
          <div class="badge">Dario</div>
          <h3 id="b1">Erstellung des Pflichtenheftes</h3>
          <p>In der ersten Woche ist meine Hauptaufgabe zu gucken was wir machen wollen, wie sinnvoll das ist, ohne das man sp√§ter in Zeitprobleme kommt. Dabei ist meine Hauptaufgabe Ideen zu sammeln wie das Programm aussehen kann.</p>
        </article>

      <article class="card" aria-labelledby="b2">
        <div class="badge">KW 36</div>
        <div class="badge">Noah</div>
        <h3 id="b2">Planung Antrieb</h3>
        <p>
          M√∂glichkeiten alternativer Antriebstechniken √ºberpr√ºft. L√∂sungsansatz: Schrittmotor √ºber Schrittmotortreiber wird von der SPS angesteuert.
        </p>
      </article>

      <article class="card" aria-labelledby="b3">
        <div class="badge">KW 37</div>
        <div class="badge">Dario</div>
        <h3 id="b3">Pflichtenheft und Softwaretest</h3>
        <p>
          Funktionale Anforderungen wurden verschriftlicht. Dazu wurden Ziele weiter ausformuliert, dazu geh√∂ren: LED-Steuerung, Visualisierung, Antriebstechnik und Rezeptverwaltung. Au√üerdem habe ich die Verbindungen zur SPS und zum HMI hergestellt. Da mein Laptop √ºber keine Ethernet-Schnittstelle verf√ºgt, habe ich den Adapter getestet. Zus√§tzlich wurden Logos erstellt.
        </p>
      </article>

      <article class="card" aria-labelledby="b4">
        <div class="badge">KW 37</div>
        <div class="badge">Noah</div>
        <h3 id="b4">Zeitplan und Website</h3>
        <p>
          Ich habe heute zuerst mit Excel einen groben Zeitplan erstellt; dieser soll in der n√§chsten Zeit immer wieder aktualisiert werden. Au√üerdem habe ich die Website online gestellt.
        </p>
      </article>

      <article class="card" aria-labelledby="b5">
        <div class="badge">KW 38</div>
        <div class="badge">Dario</div>
        <h3 id="b5">Pflichtenheft erweitert</h3>
        <p>
          Der Fokus heute war die Formulierung der technischen Anforderungen. Zus√§tzlich wurde der Zeitplan erweitert und fast abgeschlossen. Am Schluss wurden die Rahmenbedingungen des Pflichtenheftes noch erweitert und formuliert.
        </p>
      </article>

      <article class="card" aria-labelledby="b6">
        <div class="badge">KW 38</div>
        <div class="badge">Noah</div>
        <h3 id="b6">Website</h3>
        <p>
          Ich habe mich heute um die Gestaltung der Website im HTML-Code gek√ºmmert.
        </p>
      </article>

      <article class="card" aria-labelledby="b7">
        <div class="badge">KW 39</div>
        <div class="badge">Dario</div>
        <h3 id="b7">Pflichtenheft erweitert</h3>
        <p>
          Durch eine Gesch√§ftsreise war ich nicht in der Schule, nebenbei habe ich aber weiter das Pflichtenheft beschrieben.
        </p>
      </article>

      <article class="card" aria-labelledby="b8">
        <div class="badge">KW 39</div>
        <div class="badge">Noah</div>
        <h3 id="b8">Motorsteuerung</h3>
        <p>
          Erst gab es einen Vortrag durch SEW √ºber Antriebe. Danach habe ich unsere Motorsteuerung testweise an den PC angeschlossen und ein Firmware-Update geladen.
        </p>
      </article>

      <article class="card" aria-labelledby="b9">
        <div class="badge">KW 40</div>
        <div class="badge">Dario</div>
        <h3 id="b9">Planen und Programmierung des Programms</h3>
        <p>
          Allgemeine Funktionen wie Betriebsarten oder St√∂rungshandling wurden programmiert und es wurde festgelegt, wie die Funktionen sinnvoll zu bedienen sind. Zus√§tzlich wurde angefangen, einen FB f√ºr den Antrieb zu programmieren. √úber die Woche wurde die Visualisierung gestartet und erste Bilder erstellt sowie beschrieben, wie die Bedienung der Anlage erfolgt.
        </p>
      </article>

      <article class="card" aria-labelledby="b10">
        <div class="badge">KW 40</div>
        <div class="badge">Noah</div>
        <h3 id="b10">Pflichtenheft und Motorsteuerung</h3>
        <p>
          Wir haben zusammen das Pflichtenheft fertiggestellt und gepr√ºft sowie das Logo und den Link zur Website an die Projektleiter weitergeleitet. Au√üerdem habe ich den Testaufbau f√ºr den Motor fertiggestellt und den Motor in Betrieb genommen.
        </p>
      </article>

      <article class="card" aria-labelledby="b11">
        <div class="badge">KW 41</div>
        <div class="badge">Dario</div>
        <h3 id="b11">Testen von Funktionen</h3>
        <p>
          Ein Meilenstein ist, dass die Ansteuerung des Antriebs √ºber das HMI funktioniert hat. Es haben die Referenzfahrt und eine absolute Positionierung funktioniert. Dadurch sind wir einen gro√üen Schritt weitergekommen und der Antrieb kann vollends programmiert werden. Auch andere Funktionen wie Betriebsarten und erste Visualisierungen konnten getestet werden.
        </p>
      </article>

      <article class="card" aria-labelledby="b12">
        <div class="badge">KW 41</div>
        <div class="badge">Noah</div>
        <h3 id="b12">Motorsteuerung √ºber SPS</h3>
        <p>
          Dario hat mir seinen Visualisierungsvorschlag pr√§sentiert und wir haben dar√ºber diskutiert. Au√üerdem habe ich weitere Tests am Motor durchgef√ºhrt. Danach haben wir den Motor an die SPS angeschlossen und konnten weitere Tests in Verbindung SPS und Motor machen.
        </p>
      </article>

      <article class="card" aria-labelledby="b13">
        <div class="badge">KW 42</div>
        <div class="badge">Dario</div>
        <h3 id="b13">Vorbereitung des Arduinos und Einrichten Modus</h3>
        <p>Die Verbidnung zwischen Arduino und PLC wurde vorbereitet. Dazu wurde das Ablauf des einsetzen der Flaschen angepasst. Man wirdn nun Schritt f√ºr Schritt mit dem HMI durch geleitet.</p>
      </article>

      <article class="card" aria-labelledby="b14">
        <div class="badge">KW 42</div>
        <div class="badge">Noah</div>
        <h3 id="b14">Kein Eintrag</h3>
        <p>Coming soon</p>
      </article>

      <article class="card" aria-labelledby="b15">
        <div class="badge">KW 43</div>
        <div class="badge">Dario</div>
        <h3 id="b15">Testen der Arduino-PLC Verbindung</h3>
        <p>Ich habe die Verbindung zwischen Arduino und PLC getestet. Hierbei habe ich die Liabry Snap7 genommen. Die Verbidnung funktioniert und es kann gesendet und geschrieben werden. Vorteil der Snap7 Verbidnung ist, dass es PLC seitig nur ein nicht optimierter DB und Put/Get aktiviert weden muss. Der Rest ist Arduino seitig. Auch Effekte wie zum Beispiel, dass pulsieren eines LED-Strip. Funktioniert und wurde getestet.</p>
      </article>

      <article class="card" aria-labelledby="b16">
        <div class="badge">KW 43</div>
        <div class="badge">Noah</div>
        <h3 id="b16">Kein Eintrag</h3>
        <p>Coming soon</p>
      </article>

      <article class="card" aria-labelledby="b17">
        <div class="badge">KW 44</div>
        <div class="badge">Dario</div>
        <h3 id="b17">Erweiterung des Arduinos Programm und Aufbau derRezeptverwaltungs Struktur</h3>
        <p>Das Arduino Programm wurde erweitert und Funktionen wurden Erweitert. Wenn die Anlage angeht und das erste Lifebit geschrieben wird, werden alle LED ein Gr√ºnenlauf f√ºr 10sek. starten. Dazu hab ich mir Gedanken geamcht wie die Rezeptverwaltung aufzubauen ist. Ob die HMI Rezepte sinnvoller sind, oder alle Rezepte als Code aufzubauen. Dazu liegt der Fokus auf die Zwischenpr√§senation.</p>
      </article>

      <article class="card" aria-labelledby="b18">
        <div class="badge">KW 44</div>
        <div class="badge">Noah</div>
        <h3 id="b18">Kein Eintrag</h3>
        <p>Coming soon</p>
      </article>

      <!--
      <article class="card" aria-labelledby="b19">
        <div class="badge">KW 45</div>
        <div class="badge">Dario</div>
        <h3 id="b19">Kein Eintrag</h3>
        <p>Leckage-Sensorik integriert, Not-Aus getestet, Reinigungsmodus dokumentiert.</p>
      </article>

      <article class="card" aria-labelledby="b20">
        <div class="badge">KW 45</div>
        <div class="badge">Noah</div>
        <h3 id="b20">Kein Eintrag</h3>
        <p>Leckage-Sensorik integriert, Not-Aus getestet, Reinigungsmodus dokumentiert.</p>
      </article>

      <article class="card" aria-labelledby="b21">
        <div class="badge">KW 46</div>
        <div class="badge">Dario</div>
        <h3 id="b21">Kein Eintrag</h3>
        <p>Leckage-Sensorik integriert, Not-Aus getestet, Reinigungsmodus dokumentiert.</p>
      </article>

      <article class="card" aria-labelledby="b22">
        <div class="badge">KW 46</div>
        <div class="badge">Noah</div>
        <h3 id="b22">Kein Eintrag</h3>
        <p>Leckage-Sensorik integriert, Not-Aus getestet, Reinigungsmodus dokumentiert.</p>
      </article>

      <article class="card" aria-labelledby="b23">
        <div class="badge">KW 47</div>
        <div class="badge">Dario</div>
        <h3 id="b23">Kein Eintrag</h3>
        <p>Leckage-Sensorik integriert, Not-Aus getestet, Reinigungsmodus dokumentiert.</p>
      </article>

      <article class="card" aria-labelledby="b24">
        <div class="badge">KW 47</div>
        <div class="badge">Noah</div>
        <h3 id="b24">Kein Eintrag</h3>
        <p>Leckage-Sensorik integriert, Not-Aus getestet, Reinigungsmodus dokumentiert.</p>
      </article>

      <article class="card" aria-labelledby="b25">
        <div class="badge">KW 48</div>
        <div class="badge">Dario</div>
        <h3 id="b25">Kein Eintrag</h3>
        <p>Leckage-Sensorik integriert, Not-Aus getestet, Reinigungsmodus dokumentiert.</p>
      </article>

      <article class="card" aria-labelledby="b26">
        <div class="badge">KW 48</div>
        <div class="badge">Noah</div>
        <h3 id="b26">Kein Eintrag</h3>
        <p>Leckage-Sensorik integriert, Not-Aus getestet, Reinigungsmodus dokumentiert.</p>
      </article>

      <article class="card" aria-labelledby="b27">
        <div class="badge">KW 49</div>
        <div class="badge">Dario</div>
        <h3 id="b27">Kein Eintrag</h3>
        <p>Leckage-Sensorik integriert, Not-Aus getestet, Reinigungsmodus dokumentiert.</p>
      </article>

      <article class="card" aria-labelledby="b28">
        <div class="badge">KW 49</div>
        <div class="badge">Noah</div>
        <h3 id="b28">Kein Eintrag</h3>
        <p>Leckage-Sensorik integriert, Not-Aus getestet, Reinigungsmodus dokumentiert.</p>
      </article>

      <article class="card" aria-labelledby="b29">
        <div class="badge">KW 50</div>
        <div class="badge">Dario</div>
        <h3 id="b29">Kein Eintrag</h3>
        <p>Leckage-Sensorik integriert, Not-Aus getestet, Reinigungsmodus dokumentiert.</p>
      </article>

      <article class="card" aria-labelledby="b30">
        <div class="badge">KW 50</div>
        <div class="badge">Noah</div>
        <h3 id="b30">Kein Eintrag</h3>
        <p>Leckage-Sensorik integriert, Not-Aus getestet, Reinigungsmodus dokumentiert.</p>
      </article>

      <article class="card" aria-labelledby="b31">
        <div class="badge">KW 51</div>
        <div class="badge">Dario</div>
        <h3 id="b31">Kein Eintrag</h3>
        <p>Leckage-Sensorik integriert, Not-Aus getestet, Reinigungsmodus dokumentiert.</p>
      </article>

      <article class="card" aria-labelledby="b32">
        <div class="badge">KW 51</div>
        <div class="badge">Noah</div>
        <h3 id="b32">Kein Eintrag</h3>
        <p>Leckage-Sensorik integriert, Not-Aus getestet, Reinigungsmodus dokumentiert.</p>
      </article>

      <article class="card" aria-labelledby="b33">
        <div class="badge">KW 52</div>
        <div class="badge">Dario</div>
        <h3 id="b33">Kein Eintrag</h3>
        <p>Leckage-Sensorik integriert, Not-Aus getestet, Reinigungsmodus dokumentiert.</p>
      </article>

      <article class="card" aria-labelledby="b34">
        <div class="badge">KW 52</div>
        <div class="badge">Noah</div>
        <h3 id="b34">Kein Eintrag</h3>
        <p>Leckage-Sensorik integriert, Not-Aus getestet, Reinigungsmodus dokumentiert.</p>
      </article>

      <article class="card" aria-labelledby="b35">
        <div class="badge">KW 01</div>
        <div class="badge">Dario</div>
        <h3 id="b35">Kein Eintrag</h3>
        <p>Leckage-Sensorik integriert, Not-Aus getestet, Reinigungsmodus dokumentiert.</p>
      </article>

      <article class="card" aria-labelledby="b36">
        <div class="badge">KW 01</div>
        <div class="badge">Noah</div>
        <h3 id="b36">Kein Eintrag</h3>
        <p>Leckage-Sensorik integriert, Not-Aus getestet, Reinigungsmodus dokumentiert.</p>
      </article>

      <article class="card" aria-labelledby="b37">
        <div class="badge">KW 02</div>
        <div class="badge">Dario</div>
        <h3 id="b37">Kein Eintrag</h3>
        <p>Leckage-Sensorik integriert, Not-Aus getestet, Reinigungsmodus dokumentiert.</p>
      </article>

      <article class="card" aria-labelledby="b38">
        <div class="badge">KW 02</div>
        <div class="badge">Noah</div>
        <h3 id="b38">Kein Eintrag</h3>
        <p>Leckage-Sensorik integriert, Not-Aus getestet, Reinigungsmodus dokumentiert.</p>
      </article>

      <article class="card" aria-labelledby="b39">
        <div class="badge">KW 03</div>
        <div class="badge">Dario</div>
        <h3 id="b39">Kein Eintrag</h3>
        <p>Leckage-Sensorik integriert, Not-Aus getestet, Reinigungsmodus dokumentiert.</p>
      </article>

      <article class="card" aria-labelledby="b40">
        <div class="badge">KW 03</div>
        <div class="badge">Noah</div>
        <h3 id="b40">Kein Eintrag</h3>
        <p>Leckage-Sensorik integriert, Not-Aus getestet, Reinigungsmodus dokumentiert.</p>
      </article>

      <article class="card" aria-labelledby="b41">
        <div class="badge">KW 04</div>
        <div class="badge">Dario</div>
        <h3 id="b41">Kein Eintrag</h3>
        <p>Leckage-Sensorik integriert, Not-Aus getestet, Reinigungsmodus dokumentiert.</p>
      </article>

      <article class="card" aria-labelledby="b42">
        <div class="badge">KW 04</div>
        <div class="badge">Noah</div>
        <h3 id="b42">Kein Eintrag</h3>
        <p>Leckage-Sensorik integriert, Not-Aus getestet, Reinigungsmodus dokumentiert.</p>
      </article>

      <article class="card" aria-labelledby="b43">
        <div class="badge">KW 05</div>
        <div class="badge">Dario</div>
        <h3 id="b43">Kein Eintrag</h3>
        <p>Leckage-Sensorik integriert, Not-Aus getestet, Reinigungsmodus dokumentiert.</p>
      </article>

      <article class="card" aria-labelledby="b44">
        <div class="badge">KW 05</div>
        <div class="badge">Noah</div>
        <h3 id="b44">Kein Eintrag</h3>
        <p>Leckage-Sensorik integriert, Not-Aus getestet, Reinigungsmodus dokumentiert.</p>
      </article>

      <article class="card" aria-labelledby="b45">
        <div class="badge">KW 06</div>
        <div class="badge">Dario</div>
        <h3 id="b45">Kein Eintrag</h3>
        <p>Leckage-Sensorik integriert, Not-Aus getestet, Reinigungsmodus dokumentiert.</p>
      </article>

      <article class="card" aria-labelledby="b46">
        <div class="badge">KW 06</div>
        <div class="badge">Noah</div>
        <h3 id="b46">Kein Eintrag</h3>
        <p>Leckage-Sensorik integriert, Not-Aus getestet, Reinigungsmodus dokumentiert.</p>
      </article>
      -->
    </div>
  </div>
</section>

  <!-- Team -->
  <section id="team">
    <div class="container grid grid-3">
      <div class="card">
        <h2>Team & Arbeitsteilung</h2>
        <p>Die Inhalte der Seiten werden von allen Teammitgliedern nach festgelegter Arbeitsteilung erstellt und gepflegt.</p>
        <ul class="list">
          <li><strong>Projektleitung:</strong> Dario Begerau/Noah Jordan</li>
          <li><strong>Programmierung SPS:</strong> Dario Begerau</li>
          <li><strong>Visualisierung HMI: </strong> Dario Begerau</li>
          <li><strong>LED-Steuerung: </strong> Noah Jordan</li>
          <li><strong>Antriebstechnik: </strong> Noah Jordan</li>
          <li><strong>Internetseite </strong> Noah Jordan</li>
        </ul>
      </div>
      <div class="card">
        <h1>Noah Jordan</h1> 
        <img src="Portr√§t Noah.jpg" alt="Profilbild von Noah Jordan" style="width:100%; height:auto; border-radius:8px; margin:10px 0;">
        <p>Noah Jordan hat bei Dr.Heinrich Schneider Messtechnik GmbH in Bad Kreuznach den Beruf des Industrie-Mechatronikers erlernt. Aktuell arbeitet er dort als Anwendungstechniker in der Messtechnik. Er bearbeitet dieses Projekt im Zuge der Abschlusspr√ºfung zum staatlich gepr√ºften Techniker Fachrichtung Prozessautomatisierung.</p>
      </div>
      <div class="card">
        <h1>Dario Begerau</h1> 
        <img src="Portr√§t Dario.jpg" alt="Profilbild von Dario Begerau" style="width:100%; height:auto; border-radius:8px; margin:10px 0;">
        <p>Dario Begerau hat bei Heinrich Huhn in Drolshagen den Beruf des Elektronikers f√ºr Betriebstechnik erlernt. Aktuell arbeitet er bei der Eckelmann AG im technischen Vertrieb. Er bearbeitet dieses Projekt im Zuge der Abschlusspr√ºfung zum staatlich gepr√ºften Techniker Fachrichtung Prozessautomatisierung.</p>
      </div>
      <div class="card">
        <h2>Kontakt / Betreuung</h2>
        <p>Fachschule f√ºr Automatisierungstechnik ‚Äì BBS&nbsp;1 Mainz</p>
        <p class="small muted">Bitte beachten: Bitte geben sie Projekt und Name an, damit die Zust√§ndige Stelle es zuweisen kann.</p>
        <ul class="list">
          <li>E-Mail: <a href="mailto:sekretariat@bbs1-mainz.de">sekretariat@bbs1-mainz.de</a></li>
          <li>Ort: Mainz</li>
        </ul>
      </div>
      <div class="card">
        <h2>Projektlinks</h2>
        <ul class="list">
          <li><a href="#downloads">Dokumente/Pl√§ne</a></li>
          <li><a href="#meilensteine">Zeitplan</a></li>
          <li><a href="https://bbs1-mainz.jimdofree.com/projektmanagement/internetpr%C3%A4sentation/" target="_blank" rel="noopener">Vorgaben Internetpr√§sentation (BBS1)</a></li>
        </ul>
      </div>
    </div>
  </section>

<!-- Galerie -->
<section id="galerie" class="gallery">
  <div class="container">
    <h2>Galerie</h2>
    <p class="muted">Hier zeigen wir Eindr√ºcke aus Planung, Aufbau und Tests. Zum Vergr√∂√üern klicken/tippen.</p>

    <div class="grid-auto" id="galleryGrid">
      <!-- Bild 1-->
      <figure class="gallery-card">
        <a href="Anlage_frontal.jpeg"
           class="gallery-item"
           data-type="image"
           data-caption="Anlage frontal ‚Äì Schaltschrank">
          <img src="Anlage_frontal.jpeg" alt="Anlage frontal ‚Äì Schaltschrank" loading="lazy">
        </a>
        <figcaption class="gallery-caption">Anlage frontal ‚Äì Schaltschrank</figcaption>
      </figure>
      
      <!-- Bild 2 -->
      <figure class="gallery-card">
        <a href="Schaltschrank_frei.jpeg"
           class="gallery-item"
           data-type="image"
           data-caption="Schaltschrank ‚Äì frei ger√§umt">
          <img src="Schaltschrank_frei.jpeg"
               alt="Schaltschrank ‚Äì frei ger√§umt"
               loading="lazy">
        </a>
        <figcaption class="gallery-caption">Schaltschrank ‚Äì frei ger√§umt</figcaption>
      </figure>
      
      <!-- Bild 3 -->
      <figure class="gallery-card">
        <a href="Visu_Idee.jpeg"
           class="gallery-item"
           data-type="image"
           data-caption="HMI ‚Äì Hauptbildschirm (Idee)">
          <img src="Visu_Idee.jpeg"
               alt="HMI ‚Äì Hauptbildschirm (Idee)"
               loading="lazy">
        </a>
        <figcaption class="gallery-caption">HMI ‚Äì Hauptbildschirm (Idee)</figcaption>
      </figure>

      <!-- Video -->
      <figure class="gallery-card">
        <a href="Steuerung des Antriebs.mp4"
           class="gallery-item"
           data-type="video"
           data-caption="Steuerung des Antriebs ‚Äì Referenzfahrt">
          <!-- Vorschaubild wird automatisch erzeugt (Zufallsframe) -->
          <span class="badge-video">‚ñ∂ Video</span>
        </a>
        <figcaption class="gallery-caption">Steuerung des Antriebs ‚Äì Referenzfahrt</figcaption>
      </figure>

      <!-- Weitere Eintr√§ge: figure.gallery-card duplizieren und Pfade/Text anpassen -->
    </div>
  </div>
</section>

<!-- Lightbox-Overlay -->
<div class="lightbox" id="lightbox" aria-modal="true" role="dialog" aria-label="Medienanzeige">
  <div class="lightbox-inner">
    <button class="lightbox-close" id="lbClose" aria-label="Schlie√üen">‚úï</button>
    <button class="lightbox-prev" id="lbPrev" aria-label="Vorheriges">‚Äπ</button>
    <div class="lightbox-content" id="lbContent"></div>
    <button class="lightbox-next" id="lbNext" aria-label="N√§chstes">‚Ä∫</button>
  </div>
</div>

<style>
/* --- Galerie Layout --- */
.gallery { padding: 3rem 0; }
.gallery .grid-auto {
  display:grid; gap:14px;
  grid-template-columns: repeat(auto-fit, minmax(260px,1fr));
}
.gallery-card{
  display:flex; flex-direction:column; gap:6px;
}
.gallery-item {
  position:relative; overflow:hidden; border-radius:14px;
  border:1px solid #e5e7eb; background:#fff;
  aspect-ratio:16/10; display:block;
}
.gallery-item img, .gallery-item video {
  width:100%; height:100%; object-fit:cover; display:block;
}
.gallery-item:hover {
  box-shadow:0 6px 18px rgba(0,0,0,.08);
  transform:translateY(-1px); transition:all .2s ease;
}
.gallery-item .badge-video {
  position:absolute; left:8px; bottom:8px;
  padding:.25rem .5rem; background:rgba(10,42,102,.9);
  color:#fff; border-radius:999px; font-size:.75rem;
}

/* Beschriftung unterm Bild/Video */
.gallery-caption{
  font-size:.9rem; line-height:1.35;
  color:#475569; /* muted */
  padding:0 2px;
}

/* --- Lightbox --- */
.lightbox {
  position:fixed; inset:0; background:rgba(0,0,0,.8);
  display:none; align-items:center; justify-content:center; z-index:1000;
}
.lightbox.open { display:flex; }
.lightbox-inner {
  width:min(1200px,92vw); max-height:88vh; background:#000;
  border-radius:14px; position:relative; overflow:hidden;
}
.lightbox-content { display:flex; align-items:center; justify-content:center; }
.lightbox-content img, .lightbox-content video, .lightbox-content iframe {
  max-width:100%; max-height:88vh; display:block;
}
.lightbox-close, .lightbox-prev, .lightbox-next {
  position:absolute; top:10px;
  background:rgba(255,255,255,.12); color:#fff;
  border:none; padding:.6rem .8rem; border-radius:10px; cursor:pointer;
  backdrop-filter: blur(6px);
}
.lightbox-close{ right:10px; }
.lightbox-prev{ left:10px; top:50%; transform:translateY(-50%); }
.lightbox-next{ right:10px; top:50%; transform:translateY(-50%); }
</style>

<script>
/* Galerie-Logik: Vorschaubilder + Lightbox + Captions */
(function(){
  const grid = document.getElementById('galleryGrid');
  const lb = document.getElementById('lightbox');
  const content = document.getElementById('lbContent');
  const btnClose = document.getElementById('lbClose');
  const btnPrev = document.getElementById('lbPrev');
  const btnNext = document.getElementById('lbNext');

  // Sammle die klickbaren <a.gallery-item> in Reihenfolge
  const items = Array.from(grid.querySelectorAll('.gallery-item'));

  // 1) Thumbnails automatisch erzeugen (f√ºr Videos/YouTube), Captions synchronisieren
  items.forEach((a)=>{
    const type = a.dataset.type;
    const href = a.getAttribute('href');

    // Sicherstellen, dass figcaption Text aus data-caption hat (falls leer)
    const card = a.closest('.gallery-card');
    const capEl = card?.querySelector('.gallery-caption');
    if(capEl && !capEl.textContent.trim() && a.dataset.caption){
      capEl.textContent = a.dataset.caption;
    }

    // Falls kein <img> in der Vorschau vorhanden ist ‚Üí generieren
    if(!a.querySelector('img')){
      const img = document.createElement('img');
      img.alt = a.dataset.caption || 'Vorschau';
      img.loading = 'lazy';
      a.prepend(img);

      if(type === 'youtube'){
        try{
          const id = new URL(href).searchParams.get('v') || href.split('/').pop();
          img.src = `https://img.youtube.com/vi/${id}/hqdefault.jpg`;
        }catch{
          img.src = '';
        }
      } else if(type === 'video'){
        // Zuf√§lliges Vorschaubild aus MP4 erzeugen
        const video = document.createElement('video');
        video.src = href;
        video.preload = 'metadata';
        video.muted = true;
        video.playsInline = true;
        video.addEventListener('loadeddata',()=>{
          const canvas = document.createElement('canvas');
          const ctx = canvas.getContext('2d');
          canvas.width = video.videoWidth || 1280;
          canvas.height = video.videoHeight || 720;
          const target = Math.random() * 3; // 0‚Äì3 s
          // bei sehr kurzen Clips auf 0s bleiben
          video.currentTime = Math.min(target, (video.duration || 0));
          video.addEventListener('seeked',()=>{
            try{
              ctx.drawImage(video,0,0,canvas.width,canvas.height);
              img.src = canvas.toDataURL('image/jpeg',0.7);
            }catch(e){
              // Wenn drawImage wegen CORS fehlschl√§gt, nichts tun (oder Fallback)
            }
          },{once:true});
        });
      } else {
        // Normales Bild ‚Üí direkt verlinktes Bild als Vorschau
        img.src = href;
      }
    }
  });

  // 2) Lightbox √∂ffnen
  let idx = -1;
  function openAt(i){
    if(!items.length) return;
    idx = ((i % items.length) + items.length) % items.length;

    const a = items[idx];
    const type = a.dataset.type;
    const href = a.getAttribute('href');
    const caption = a.dataset.caption || '';

    content.innerHTML = '';

    if(type === 'image'){
      const img = document.createElement('img');
      img.src = href; img.alt = caption;
      content.appendChild(img);
    } else if(type === 'video'){
      const vid = document.createElement('video');
      vid.src = href; vid.controls = true; vid.playsInline = true;
      content.appendChild(vid);
      vid.play().catch(()=>{});
    } else if(type === 'youtube'){
      const id = new URL(href).searchParams.get('v') || href.split('/').pop();
      const iframe = document.createElement('iframe');
      iframe.src = 'https://www.youtube.com/embed/' + id + '?autoplay=1&rel=0';
      iframe.allow = 'accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share';
      iframe.allowFullscreen = true;
      iframe.style.width = '100%';
      iframe.style.height = '70vh';
      content.appendChild(iframe);
    }

    lb.classList.add('open');
    document.body.style.overflow = 'hidden';
  }

  function closeLB(){
    lb.classList.remove('open');
    document.body.style.overflow = '';
    content.innerHTML = '';
    idx = -1;
  }
  function prev(){ if(items.length) openAt(idx - 1); }
  function next(){ if(items.length) openAt(idx + 1); }

  // Klick-Handling auf die Galerie
  grid.addEventListener('click', (e)=>{
    const a = e.target.closest('.gallery-item');
    if(!a) return;
    e.preventDefault();
    openAt(items.indexOf(a));
  });

  // Controls + Keyboard
  document.getElementById('lbClose').addEventListener('click', closeLB);
  document.getElementById('lbPrev').addEventListener('click', prev);
  document.getElementById('lbNext').addEventListener('click', next);
  lb.addEventListener('click', (e)=>{ if(e.target === lb) closeLB(); });
  document.addEventListener('keydown', (e)=>{
    if(!lb.classList.contains('open')) return;
    if(e.key === 'Escape') closeLB();
    if(e.key === 'ArrowLeft') prev();
    if(e.key === 'ArrowRight') next();
  });
})();
</script>

  <!-- Meilensteine -->
  <section id="meilensteine">
    <div class="container">
      <h2>Meilensteine & Fortschritt</h2>
      <div class="card timeline">
        <div class="tl-item"><strong>25.08.2025 Kickoff: </strong>Das Projekt ist gestartet. Wir d√ºrfen nun offiziell an der Anlage arbeiten.</div>
        <div class="tl-item"><strong>30.09.2025 Abgabe Pflichtenheft: </strong>Das Pflichtenheft wurde fertig definiert und abgegeben. Gleichzeitig wurden Kernthemen wie: Antrieb, Visualisierung und LED-Steuerung ausgelegt und geplant</div>
        <div class="tl-item"><strong>06.10.2025 Testen des Antriebs: </strong>Die Positionierung funktioniert und wir k√∂nnen wie im Video oben zu sehen √ºber das HMI positionieren</div>
        <div class="tl-item"><strong>20.10.2025 Testen der Arduino Verbindung: </strong>Am Montag nach den Ferien wird weiter getestet. Das Programm f√ºr den Arduino steht und der Antrieb wird verbaut.</div>
        <div class="tl-item"><strong>03.11.2025 Zwischenpr√§sentation: </strong>Dort wird die Zwischenpr√§sentation gehalten. Probleme als auch erfolge werden gezeigt.</div>
      </div>
    </div>
  </section>

  <!-- Kontakt -->
  <section id="kontakt">
    <div class="container grid grid-2">
      <div class="card">
        <h2>Kontakt</h2>
        <form action="#" method="post" class="grid">
          <label>
            <span class="sr-only">Name</span>
            <input required name="name" placeholder="Name" style="width:100%; padding:.8rem; border-radius:10px; border:1px solid #e5e7eb" />
          </label>
          <label>
            <span class="sr-only">E-Mail</span>
            <input required type="email" name="email" placeholder="E-Mail" style="width:100%; padding:.8rem; border-radius:10px; border:1px solid #e5e7eb" />
          </label>
          <label>
            <span class="sr-only">Nachricht</span>
            <textarea required name="message" placeholder="Nachricht" rows="5" style="width:100%; padding:.8rem; border-radius:10px; border:1px solid #e5e7eb"></textarea>
          </label>
          <button class="btn" style="background:var(--blue); color:white; border:none">Senden</button>
        </form>
      </div>
      <div class="card impressum">
        <h2>Impressum & Datenschutz (Kurz)</h2>
        <p>Verantwortlich f√ºr den Inhalt: Projektteam DrinkOS (Schulprojekt). Keine Gew√§hr f√ºr Vollst√§ndigkeit. Alle Marken sind Eigentum der jeweiligen Inhaber.</p>
        <p>Bitte beachten: Keine abwertenden Inhalte, sensible personenbezogene Daten nur nach Ma√ügabe des Datenschutzes. Urheberrechte werden respektiert. (vgl. Vorgaben BBS1)</p>
        <p class="small"><a href="https://bbs1-mainz.jimdofree.com/projektmanagement/internetpr%C3%A4sentation/" target="_blank" rel="noopener">Richtlinien Internetpr√§sentation</a></p>
      </div>
    </div>
  </section>

  <footer>
    <div class="container small">
      <div>¬© <span id="y"></span> DrinkOS Projektteam ‚Ä¢ <a href="#impressum">Impressum</a> ‚Ä¢ <a href="#datenschutz">Datenschutz</a></div>
      <div class="muted" style="margin-top:.5rem">Diese Seite bleibt mindestens 1 Jahr nach Projektende online. Verlinkt mit BBS1-Seite und den Projektseiten.</div>
    </div>
  </footer>

  <!-- Lightbox-Overlay -->
  <div class="lightbox" id="lightbox" aria-modal="true" role="dialog" aria-label="Medienanzeige">
    <div class="lightbox-inner">
      <button class="lightbox-close" id="lbClose" aria-label="Schlie√üen">‚úï</button>
      <button class="lightbox-prev" id="lbPrev" aria-label="Vorheriges">‚Äπ</button>
      <div class="lightbox-content" id="lbContent"></div>
      <button class="lightbox-next" id="lbNext" aria-label="N√§chstes">‚Ä∫</button>
    </div>
  </div>

  <script>
    document.getElementById('y').textContent = new Date().getFullYear();
   function toggleMenu(){
      const ml = document.getElementById('menuLinks');
      ml.classList.toggle('show');
      document.body.classList.toggle('nav-open', ml.classList.contains('show'));
    }
  </script>

  <!-- Galerie / Lightbox Logik -->
  <script>
  (function(){
    const grid = document.getElementById('galleryGrid');
    if(!grid) return;

    const lb = document.getElementById('lightbox');
    const content = document.getElementById('lbContent');
    const btnClose = document.getElementById('lbClose');
    const btnPrev = document.getElementById('lbPrev');
    const btnNext = document.getElementById('lbNext');

    const items = Array.from(grid.querySelectorAll('.gallery-item'));
    let idx = -1;

    function openAt(i){
      if(!items.length) return;
      idx = ((i % items.length) + items.length) % items.length;
      const a = items[idx];
      const type = a.dataset.type;
      const href = a.getAttribute('href');
      const caption = a.dataset.caption || '';

      content.innerHTML = '';

      if(type === 'image'){
        const img = document.createElement('img');
        img.src = href;
        img.alt = caption || 'Bild';
        content.appendChild(img);
      } else if(type === 'video'){
        const vid = document.createElement('video');
        vid.src = href;
        vid.controls = true;
        vid.playsInline = true;
        vid.preload = 'metadata';
        if(a.dataset.poster) vid.poster = a.dataset.poster;
        content.appendChild(vid);
        vid.muted = true; vid.play().catch(()=>{});
      } else if(type === 'youtube'){
        const iframe = document.createElement('iframe');
        const url = new URL(href, window.location.href);
        const id = url.searchParams.get('v') || href.split('/').pop();
        iframe.src = 'https://www.youtube.com/embed/' + id + '?rel=0&autoplay=1';
        iframe.allow = 'accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share';
        iframe.allowFullscreen = true;
        iframe.title = caption || 'YouTube Video';
        iframe.style.width = '100%'; iframe.style.height = '70vh';
        content.appendChild(iframe);
      }

      lb.classList.add('open');
      document.body.style.overflow = 'hidden';
    }

    function closeLB(){
      lb.classList.remove('open');
      document.body.style.overflow = '';
      content.innerHTML = '';
      idx = -1;
    }

    function prev(){ if(items.length) openAt(idx - 1); }
    function next(){ if(items.length) openAt(idx + 1); }

    grid.addEventListener('click', (e)=>{
      const a = e.target.closest('.gallery-item');
      if(!a) return;
      e.preventDefault();
      const i = items.indexOf(a);
      openAt(i);
    });

    btnClose.addEventListener('click', closeLB);
    btnPrev.addEventListener('click', prev);
    btnNext.addEventListener('click', next);

    lb.addEventListener('click', (e)=>{ if(e.target === lb) closeLB(); });

    document.addEventListener('keydown', (e)=>{
      if(!lb.classList.contains('open')) return;
      if(e.key === 'Escape') closeLB();
      if(e.key === 'ArrowLeft') prev();
      if(e.key === 'ArrowRight') next();
    });
  })();
  </script>
</body>
</html>

